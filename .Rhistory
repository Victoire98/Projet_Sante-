---
title: "Dataset_Neiss"
author: "Arias Bonaud Peres"
date: "2/17/2020"
output: pdf_document
---
```{r setup, include=FALSE}
knitr::opt_chunk$set(echo = TRUE)
```
# Analyse des données de santé : épidémiologie et aide à la décision
## Base de données d'interet (National Electronic Injury Surveillance System (NEISS))
La base de données collecte les cinq dernieres années du système de surveillance, (2013-2017) from the National Electronic Injury Surveillance System, which is a sample of all accidents reported to emergency rooms in the US.
!(code)[https://github.com/hadley/neiss]
It currently contains three datasets:
injuries: individual injury results
products: product code lookup table
population: population of the US by age, sex, and year
```{r }
# Package from dev version in github
# install.packages("devtools")
# devtools::install_github("hadley/neiss")
```
Lib in linux
`sudo apt-get install libssl-dev libxml2-dev`
## Load data
```{r}
library("neiss")
data <- as.data.frame(injuries)
str(data)
```
Transformation to categorical data
```{r}
dim(data)
data$sex <- as.factor(data$sex)
data$body_part <- as.factor(data$body_part)
data$location <- as.factor(data$location)
#change others columns ....
str(data)
plot(data$location,xlab = "injure location", main = "Barplot")
```
## Just injuries from sport
```{r}
str(data$location)
sport <- data[which(data$location == "Sports Or Recreation Place"),]
```
```{r fig.height=15}
p <-par(mfrow=c(3,1))
plot(sport$sex, main ="Only sports")
plot(sport$body_part)
plot(sport$body_part,sport$sex)
```
knitr::opt_chunk$set(echo = TRUE)
---
title: "Dataset_Neiss"
author: "Arias Bonaud Peres"
date: "20/02/2020"
output: pdf_document
---
knitr::opt_chunk$set(echo = TRUE)
library(devtools)
library("neiss")
knitr::opts_chunk$set(echo = TRUE)
data <- as.data.frame(injuries)
str(data)
plot(pressure)
knitr::opts_chunk$set(echo = TRUE)
library("neiss")
data <- as.data.frame(injuries)
str(data)
dim(data)
data$sex <- as.factor(data$sex)
data$body_part <- as.factor(data$body_part)
data$location <- as.factor(data$location)
#change others columns ....
str(data)
plot(data$location,xlab = "injure location", main = "Barplot")
str(data$location)
sport <- data[which(data$location == "Sports Or Recreation Place"),]
p <-par(mfrow=c(3,1))
plot(sport$sex, main ="Only sports")
plot(sport$body_part)
plot(sport$body_part,sport$sex)
knitr::opts_chunk$set(echo = TRUE)
library("neiss")
data <- as.data.frame(injuries)
str(data)
products <- as.data.frame(products)
population <- as.data.frame(population)
data$sex
unique(data$sex)
unique(data$stratum)
unique(data$psu)
View(data)
summary(data)
knitr::opts_chunk$set(echo = TRUE)
summary(data)
knitr::opts_chunk$set(echo = TRUE)
data <- as.data.frame(injuries)
library("neiss")
data <- as.data.frame(injuries)
data['race_other']<- NULL
data
View(data)
data['diag']<- data[data['diag']== 'Other Or Not Stated']
data['diag'][data['diag']== 'Other Or Not Stated'] <- data[data['diag']== 'Other Or Not Stated']['diag_other']
data[data['diag']== 'Other Or Not Stated']['diag'] <- data[data['diag']== 'Other Or Not Stated']['diag_other']
data
data[data['diag']== 'Other Or Not Stated']['diag'] = data[data['diag']== 'Other Or Not Stated']['diag_other']
data[data['diag']== 'Other Or Not Stated']$diag <- data[data['diag']== 'Other Or Not Stated']$diag_other
data[where data['diag']== 'Other Or Not Stated']
data[which(data['diag']== 'Other Or Not Stated'])]   <- data[data['diag']== 'Other Or Not Stated']$diag_other
data[which(data['diag']== 'Other Or Not Stated')]
data
data[which(data['diag']== 'Other Or Not Stated')]['diag'] <- data[data['diag']== 'Other Or Not Stated']$diag_other
data[which(data['diag']== 'Other Or Not Stated')]['diag'] <- data[which(data['diag']== 'Other Or Not Stated'])['diag_other'}
data[which(data['diag']== 'Other Or Not Stated')]['diag'] <- data[which(data['diag']== 'Other Or Not Stated'])['diag_other']
data[which(data['diag']== 'Other Or Not Stated')]['diag'] <- data[which(data['diag']== 'Other Or Not Stated'])['diag_other']
)['diag_other']
data[which(data['diag']== 'Other Or Not Stated')]['diag'] <- data[which(data['diag']== 'Other Or Not Stated')['diag_other']
data[which(data['diag']== 'Other Or Not Stated')]['diag'] <- data[which(data['diag']== 'Other Or Not Stated')]['diag_other']
data[which(data['diag']== 'Other Or Not Stated')]['diag']
data[which(data['diag']== 'Other Or Not Stated')]['diag']
data[which(data['diag']== 'Other Or Not Stated')]['diag']
data[which(data['diag']== 'Other Or Not Stated')]$diag
data[which(data['diag']== 'Other Or Not Stated')]$diag <- data[which(data['diag']== 'Other Or Not Stated')]$diag_other
dat
data
data[which(data['diag']== 'Other Or Not Stated')]$diag_other
library("neiss")
data <- as.data.frame(injuries)
data[which(data['diag']== 'Other Or Not Stated')]$diag <- data[which(data['diag']== 'Other Or Not Stated')]$diag_other
data[which(data$diag== 'Other Or Not Stated')]$diag <- data[which(data$diag== 'Other Or Not Stated')]$diag_other
data[which(data$diag== 'Other Or Not Stated')]$diag <- data[which(data$diag== 'Other Or Not Stated')]$diag_other
data[which(data$diag== 'Other Or Not Stated')]$diag
data[which(data$diag == 'Other Or Not Stated')]
data[where(data$diag == 'Other Or Not Stated')]
data[where(data$diag == 'Other Or Not Stated')]
data[which(data$diag == 'Other Or Not Stated')]$diag
library("neiss")
data <- as.data.frame(injuries)
data$race_other<- NULL
data[which(data$diag == 'Other Or Not Stated')]$diag <- data[which(data$diag== 'Other Or Not Stated')]$diag_other
data[which(data$diag == 'Other Or Not Stated')]$diag <- data$diag_other
data[which(data$diag == 'Other Or Not Stated')][$diag]['diag'] <- data$diag_other
data[which(data$diag == 'Other Or Not Stated')]['diag'] <- data$diag_other
data[data$diag == 'Other Or Not Stated')]['diag'] <- data$diag_other
data[data$diag == 'Other Or Not Stated']['diag'] <- data$diag_other
data[data$diag == 'Other Or Not Stated']
data$diag == 'Other Or Not Stated'
data[data$diag == 'Other Or Not Stated']
which(data$diag == 'Other Or Not Stated'])
which(data$diag == 'Other Or Not Stated')
data$which(data$diag == 'Other Or Not Stated')
which(data$diag == 'Other Or Not Stated')
data$diag <- diag$other_diag
str(data)
if data$diag_other != NA
if data$diag_other != NA:
if(data$diag_other != NA) :
if(data$diag_other != NA)
if(data$diag_other != NA)
data$diag <- diag$other_diag
then data$diag <- diag$other_diag
data$diag <- diag$other_diag
if(data$diag_other != NA)
data$diag <- diag$other_diag
