library("neiss")
install.packages("devtools")
knitr::opts_chunk$set(echo = TRUE)
library("neiss")
install.packages("devtools")
devtools::install_github("hadley/neiss")
library("neiss")
data <- as.data.frame(injuries)
summary(data)
#as factor
data$sex <- as.factor(data$sex)
data$body_part <- as.factor(data$body_part)
data$location <- as.factor(data$location)
data$diag <- as.factor(data$diag)
data$diag_other <- as.factor(data$diag_other)
#change others columns ....
str(data)
#delete race,race other
data$race <- NULL
data$race_other <- NULL
unique(data$diag)
str(data$diag)
plot(data$diag)
is.na(data$sex)
dim(is.na(data$sex))
data[is.na(data$sex)]
data[is.na(data$sex),]
data[is.na(data$diag),]
data[is.na(data$diag_other),]
dim(data[is.na(data$diag_other),data$diag_other])
dim(data[is.na(data$diag_other),0])
dim(data[is.na(data$diag),0])
dim(data[is.na(data$sex),0])
dim(data[is.na(data$location),0])
names(data)
names(data)[5]
type(data$diag)
str(data$diag)
is.factor(data$diag)
library("neiss")
data <- as.data.frame(injuries)
dim(data[is.na(data$location),0])
dim(data[is.na(data$diag),0])
names(data)
data[is.na(data),0])
is.na(data)
dim(is.na(data))
dim(data[is.na(data)])
help(count)
??count.fields
see_if(noNA("a"))
x <- sample(c(1:10, NA), 100, rep = TRUE)
(noNA(x))
is.na(x)
x
dim(x)
length(x)
dim(x[is.na(x)])
dim(x[,is.na(x)])
dim(x[is.na(x),])
dim(x[0])
length(x[is.na(x)])
dim(data[is.na(data$diag_other),0])
library("neiss")
data <- as.data.frame(injuries)
data$race_other <- NULL
data$race_other <- NULL
print(dim(data[is.na(data$location),0]))
print(dim(data[is.na(data$sex),0]))
print(dim(data[is.na(data$body_part),0]))
print(dim(data[is.na(data$diag),0]))
print(dim(data[is.na(data$diag_other),0]))
print(dim(data[is.na(data$location),0]))
print(dim(data[is.na(data$sex),0]))
print(dim(data[is.na(data$prod2),0]))
print(dim(data[is.na(data$prod1),0]))
data[is.na(data$prod1),"prod1"] <- 0
data
library("neiss")
data <- as.data.frame(injuries)
data$sex <- as.factor(data$sex)
data$body_part <- as.factor(data$body_part)
data$location <- as.factor(data$location)
data[data$diag == 'Other Or Not Stated',]$diag<- data[data$diag == 'Other Or Not Stated',]$diag_other
data$diag_other<- NULL
data$race_other<- NULL
ind <- is.na(data$prod2)
data$prod2[ind] <- 0
library(mltools)
library(data.table)
data$body_part <-(as.factor(data$body_part))
data <- one_hot(as.data.table(data),cols = "body_part")
str(data)
data$body_part <-(as.factor(data$body_part))
data$race <-(as.factor(data$race))
data$diag <-(as.factor(data$diag))
data$disposition <-(as.factor(data$disposition))
data$fmv <-(as.factor(data$fmv))
data$stratum <-(as.factor(data$stratum))
data$stratum <-(as.factor(data$stratum))
str(data)
data$body_part <- NULL
str(data)
#save data
save(data,file="dataset.Rdata")
install.packages(c("digest", "caTools", "bitops"))
options(repos = c(CRAN="https://cloud.r-project.org"))
install.packages(c("digest", "caTools", "bitops"))
install.packages(c("digest", "caTools", "bitops"))
getOption("repos")
install.packages("rmarkdown")
install.packages("caTools")
head(dataset)
load.Rdata( filename="dataset.Rdata", "dataset" )
head(dataset)
# Code stats descriptives
#load data
setwd("~/Documents/Projet_Sante-")
load.Rdata( filename="dataset.Rdata", "dataset" )
load.Rdata( "dataset.Rdata" )
dataset <- miceadds::load.Rdata2("dataset.Rdata")
load("dataset.Rdata")
head(data)
str(data)
#Description
summary(data)
dim(data[is.na(data$disposition),0])
plot(data$disposition)
plot(data$disposition,"box")
boxplot(age ~ date)
boxplot(age ~ date, data =data)
boxplot(age ~ trmt_date, data =data)
aggregate(formula = age ~ trmt_date,
data = data,
FUN = mean)
by(data, data$disposition, summary)
toupper(names(data)[max.col(data)])
names(data)
names(data["body_part_":])
names(data[6])
names(data[6:10])
names(data[6:31])
)])
#data[6:31] change to factor to do stats descriptive
toupper(names(data[6:31])[max.col(names(data[6:31]))])
toupper(names(data)[max.col(data)])
#data[6:31]
##---change to factor to do stats descriptive
toupper(names(data[6:31])[max.col(data[6:31])])
names(data[6:31])[:4]
names(data[6:31])
#data[6:31]
##---change to factor to do stats descriptive
data$output <- toupper(names(data[6:31])[max.col(data[6:31])])
View(data)
View(data)
toupper??
names(data[6:31])[max.col(data[6:31])]
[max.col(data[6:31])]
max.col(data[6:31])
names(data[6:31],0)
names(data[6:31])[-1]
names(data[6:31])
names(data[6:31])[:,,4]
names(data[6:31])[:,:4]
strsplit(names(data[6:31]),"_")
strsplit(names(data[6:31]),"_")[2]
strsplit(names(data[6:31]),"_")[:,2]
strsplit(names(data[6:31]),"_")
strsplit(names(data[6:31]),"_")[:,:4]
exit
